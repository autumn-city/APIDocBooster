The parameter for addToBackStack() is an optional name for the back state, you do not use the tag in the replace() method which is just an optional tag for the fragment.
the reason why the popBackStack() and popBackStackImmediatly() is due to the fact that you didnt add that fragment (that you want to pop) to the backStack.  In order to do this you have to make a call to addToBackStack() at the moment of making the transaction to add/replace your fragment.
